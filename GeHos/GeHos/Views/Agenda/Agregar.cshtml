@model GeHosContract.Contrato.AgendaVM


@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Agregar Agenda";
}

<section class="content">

    @*Row Header *@
    <div class="row">
        <div class="col-xs-12">
            <h2 class="page-header">
                <i class="fa fa-calendar-o"></i> Nueva Agenda.
                <small class="pull-right">@DateTime.Now.ToShortDateString()</small>
            </h2>
        </div>
    </div>
    @*Fin-Row Header *@


    @*Inicio Form*@
    @using (Html.BeginForm("Agregar", "Agenda", FormMethod.Post))
    {
        @Html.AntiForgeryToken()

        @*Box Datos Generales*@
        <div class="box box-primary">

            @*Box Header*@
            <div class="box-header with-border">
                <h3 class="box-title">Datos Generales</h3>
            </div>
            @*Fin - Box Header*@



            @*Box-body*@
            <div class="box-body">


                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                @*Profesional*@
                <div class="form-group">
                    @Html.Label("Profesional", htmlAttributes: new { @class = "control-label " })
                    @Html.DropDownListFor(model => model.CentroDeSaludID, (SelectList)(ViewBag.ListaCentroSalud), new { @class = "select2 form-control", @id = "CentroDeSaludNombre" })   @*, @style="width: 100%"*@
                    @Html.ValidationMessageFor(model => model.CentroDeSaludNombre, "", new { @class = "text-danger" })
                </div>
                @*Fin - Profesional*@

                @*Especialidad*@
                <div class="form-group">
                    @Html.LabelFor(model => model.EspecialidadNombre, htmlAttributes: new { @class = "control-label " })
                    @Html.DropDownListFor(model => model.EspecialidadID, (SelectList)(ViewBag.Especialidad), new { @class = "select2 form-control" })
                    @Html.ValidationMessageFor(model => model.EspecialidadNombre, "", new { @class = "text-danger" })
                </div>
                @*Fin - Especialidad*@

                @*Fechas*@
                <div class="row">
                    @*Fechas Desde*@
                    <div class='col-md-6'>
                        <div class="form-group">
                            @Html.Label("Fecha Desde", htmlAttributes: new { @class = "control-label" })
                            <div class='input-group date' id='dpFechaDesde'>
                                <input type='text' class="form-control" />
                                <span class="input-group-addon">
                                    <span class="fa fa-calendar"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                    @*Fin - Fechas Desde*@

                    @*Fechas Hasta*@
                    <div class='col-md-6'>
                        <div class="form-group">
                            @Html.Label("Fecha Hasta", htmlAttributes: new { @class = "control-label" })
                            <div class='input-group date' id='dpFechaHasta'>
                                <input type='text' class="form-control" />
                                <span class="input-group-addon">
                                    <span class="fa fa-calendar"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                    @*Fin - Fechas Hasta*@

                </div>
                @**Fin - Fechas*@

            </div>
            @*Fin - Box-body*@

        </div>
        @*Fin - Box Datos Generales*@

        @*Box Rango Horario*@
        <div class="box box-info">

            @*Box Header*@
            <div class="box-header with-border">
                <h3 class="box-title">Rango Horario</h3>
            </div>
            @*Fin - Box Header*@


            @*Box-body*@
            <div class="box-body">

                @*Dias*@
                @Html.Label("Dias", htmlAttributes: new { @class = "control-label" })
                <div>
                    <label class="checkbox-inline">
                        @Html.CheckBox("Lunes", new { @value = "Lunes" }) Lunes
                    </label>
                    <label class="checkbox-inline">
                        @Html.CheckBox("Martes", new { @value = "Martes" }) Martes
                    </label>
                    <label class="checkbox-inline">
                        @Html.CheckBox("Miercoles", new { @value = "Miercoles" }) Miercoles
                    </label>
                    <label class="checkbox-inline">
                        @Html.CheckBox("Jueves", new { @value = "Jueves" }) Jueves
                    </label>
                    <label class="checkbox-inline">
                        @Html.CheckBox("Viernes", new { @value = "Viernes" }) Viernes
                    </label>
                    <label class="checkbox-inline">
                        @Html.CheckBox("Sabado", new { @value = "Sabado" }) Sabado
                    </label>
                    <label class="checkbox-inline">
                        @Html.CheckBox("Domingo", new { @value = "Domingo" }) Domingo
                    </label>
                </div>
                @*Fin - Dias*@

                <hr />

                @*Horarios*@
                <div class="row">

                    @*Hora Desde*@
                    <div class='col-md-4'>
                        <div class="form-group">
                            @Html.Label("Hora Desde", htmlAttributes: new { @class = "control-label" })
                            <div class='input-group date' id='dpHoraDesde'>
                                <input type='text' class="form-control" />
                                <span class="input-group-addon">
                                    <span class="fa fa-clock-o"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                    @*Fin -Hora Desde*@

                    @*Hora Hasta*@
                    <div class='col-md-4'>
                        <div class="form-group">
                            @Html.Label("Hora Hasta", htmlAttributes: new { @class = "control-label" })
                            <div class='input-group date' id='dpHoraHasta'>
                                <input type='text' class="form-control" />
                                <span class="input-group-addon">
                                    <span class="fa fa-clock-o"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                    @*Fin -Hora Hasta*@

                    @*Tipo Agenda*@
                    <div class='col-md-4'>
                        <div class="form-group">
                            @Html.Label("Tipo Agenda", htmlAttributes: new { @class = "control-label" })
                            @Html.DropDownListFor(model => model.CentroDeSaludID, (SelectList)(ViewBag.ListaCentroSalud), new { @class = "form-control"})
                            @Html.ValidationMessageFor(model => model.CentroDeSaludNombre, "", new { @class = "text-danger" })                            
                        </div>
                    </div>
                    @*Fin - Tipo Agenda*@
                                 
                </div>
                @*Fin - Horarios*@

            </div>
            @*Fin - Box-body*@

        </div>
        @*Fin - Box Rango Horario*@

        @*Box-footer*@
        <div class="box-footer text-center">
            <button type="submit" class="btn btn-primary ">Guardar</button>
            <button type="submit" class="btn btn-danger ">Cancelar</button>
        </div>
        @*Fin - Box-footer*@



    }@*Fin Form*@









</section>


@section Styles{
    <link href="~/Content/bootstrap-datetimepicker.min.css" rel="stylesheet" />


    <style>
        /*
                        * Examples
                        *
                        * Isolated sections of example content for each component or feature. Usually
                        * followed by a code snippet.
                        */

        .bs-example {
            position: relative;
            padding: 45px 15px 15px;
            margin: 0 -15px 15px;
            border-color: #e5e5e5 #eee #eee;
            border-style: solid;
            border-width: 1px 0;
            -webkit-box-shadow: inset 0 3px 6px rgba(0,0,0,.05);
            box-shadow: inset 0 3px 6px rgba(0,0,0,.05);
        }
            /* Echo out a label for the example */
            .bs-example:after {
                position: absolute;
                top: 15px;
                left: 15px;
                font-size: 12px;
                font-weight: bold;
                color: #959595;
                text-transform: uppercase;
                letter-spacing: 1px;
                content: "Example";
            }

        .bs-example-padded-bottom {
            padding-bottom: 24px;
        }

        /* Tweak display of the code snippets when following an example */
        .bs-example + .highlight,
        .bs-example + .zero-clipboard + .highlight {
            margin: -15px -15px 15px;
            border-width: 0 0 1px;
            border-radius: 0;
        }

        /* Make the examples and snippets not full-width */
        @@media (min-width: 768px) {
            .bs-example {
                margin-right: 0;
                margin-left: 0;
                background-color: #fff;
                border-color: #ddd;
                border-width: 1px;
                border-radius: 4px 4px 0 0;
                -webkit-box-shadow: none;
                box-shadow: none;
            }

                .bs-example + .highlight,
                .bs-example + .zero-clipboard + .highlight {
                    margin-top: -16px;
                    margin-right: 0;
                    margin-left: 0;
                    border-width: 1px;
                    border-bottom-right-radius: 4px;
                    border-bottom-left-radius: 4px;
                }

            .bs-example-standalone {
                border-radius: 4px;
            }
        }

        /* Undo width of container */
        .bs-example .container {
            width: auto;
        }

        /* Tweak content of examples for optimum awesome */
        .bs-example > p:last-child,
        .bs-example > ul:last-child,
        .bs-example > ol:last-child,
        .bs-example > blockquote:last-child,
        .bs-example > .form-control:last-child,
        .bs-example > .table:last-child,
        .bs-example > .navbar:last-child,
        .bs-example > .jumbotron:last-child,
        .bs-example > .alert:last-child,
        .bs-example > .panel:last-child,
        .bs-example > .list-group:last-child,
        .bs-example > .well:last-child,
        .bs-example > .progress:last-child,
        .bs-example > .table-responsive:last-child > .table {
            margin-bottom: 0;
        }

        .bs-example > p > .close {
            float: none;
        }

        /* Typography */
        .bs-example-type .table .type-info {
            color: #767676;
            vertical-align: middle;
        }

        .bs-example-type .table td {
            padding: 15px 0;
            border-color: #eee;
        }

        .bs-example-type .table tr:first-child td {
            border-top: 0;
        }

        .bs-example-type h1,
        .bs-example-type h2,
        .bs-example-type h3,
        .bs-example-type h4,
        .bs-example-type h5,
        .bs-example-type h6 {
            margin: 0;
        }

        /* Contextual background colors */
        .bs-example-bg-classes p {
            padding: 15px;
        }

        /* Images */
        .bs-example > .img-circle,
        .bs-example > .img-rounded,
        .bs-example > .img-thumbnail {
            margin: 5px;
        }

        /* Tables */
        .bs-example > .table-responsive > .table {
            background-color: #fff;
        }

        /* Buttons */
        .bs-example > .btn,
        .bs-example > .btn-group {
            margin-top: 5px;
            margin-bottom: 5px;
        }

        .bs-example > .btn-toolbar + .btn-toolbar {
            margin-top: 10px;
        }

        /* Forms */
        .bs-example-control-sizing select,
        .bs-example-control-sizing input[type="text"] + input[type="text"] {
            margin-top: 10px;
        }

        .bs-example-form .input-group {
            margin-bottom: 10px;
        }

        .bs-example > textarea.form-control {
            resize: vertical;
        }

        /* List groups */
        .bs-example > .list-group {
            max-width: 400px;
        }

        /* Navbars */
        .bs-example .navbar:last-child {
            margin-bottom: 0;
        }

        .bs-navbar-top-example,
        .bs-navbar-bottom-example {
            z-index: 1;
            padding: 0;
            overflow: hidden; /* cut the drop shadows off */
        }

            .bs-navbar-top-example .navbar-header,
            .bs-navbar-bottom-example .navbar-header {
                margin-left: 0;
            }

            .bs-navbar-top-example .navbar-fixed-top,
            .bs-navbar-bottom-example .navbar-fixed-bottom {
                position: relative;
                margin-right: 0;
                margin-left: 0;
            }

        .bs-navbar-top-example {
            padding-bottom: 45px;
        }

            .bs-navbar-top-example:after {
                top: auto;
                bottom: 15px;
            }

            .bs-navbar-top-example .navbar-fixed-top {
                top: -1px;
            }

        .bs-navbar-bottom-example {
            padding-top: 45px;
        }

            .bs-navbar-bottom-example .navbar-fixed-bottom {
                bottom: -1px;
            }

            .bs-navbar-bottom-example .navbar {
                margin-bottom: 0;
            }

        @@media (min-width: 768px) {
            .bs-navbar-top-example .navbar-fixed-top,
            .bs-navbar-bottom-example .navbar-fixed-bottom {
                position: absolute;
            }
        }

        /* Pagination */
        .bs-example .pagination {
            margin-top: 10px;
            margin-bottom: 10px;
        }

        /* Pager */
        .bs-example > .pager {
            margin-top: 0;
        }

        /* Example modals */
        .bs-example-modal {
            background-color: #f5f5f5;
        }

            .bs-example-modal .modal {
                position: relative;
                top: auto;
                right: auto;
                bottom: auto;
                left: auto;
                z-index: 1;
                display: block;
            }

            .bs-example-modal .modal-dialog {
                left: auto;
                margin-right: auto;
                margin-left: auto;
            }

        /* Example dropdowns */
        .bs-example > .dropdown > .dropdown-toggle {
            float: left;
        }

        .bs-example > .dropdown > .dropdown-menu {
            position: static;
            display: block;
            margin-bottom: 5px;
            clear: left;
        }

        /* Example tabbable tabs */
        .bs-example-tabs .nav-tabs {
            margin-bottom: 15px;
        }

        /* Tooltips */
        .bs-example-tooltips {
            text-align: center;
        }

            .bs-example-tooltips > .btn {
                margin-top: 5px;
                margin-bottom: 5px;
            }

        .bs-example-tooltip .tooltip {
            position: relative;
            display: inline-block;
            margin: 10px 20px;
            opacity: 1;
        }

        /* Popovers */
        .bs-example-popover {
            padding-bottom: 24px;
            background-color: #f9f9f9;
        }

            .bs-example-popover .popover {
                position: relative;
                display: block;
                float: left;
                width: 260px;
                margin: 20px;
            }

        /* Scrollspy demo on fixed height div */
        .scrollspy-example {
            position: relative;
            height: 200px;
            margin-top: 10px;
            overflow: auto;
        }

        .bs-example > .nav-pills-stacked-example {
            max-width: 300px;
        }

        /* Simple collapse example */
        #collapseExample .well {
            margin-bottom: 0;
        }

        /* Don't wrap event names in Events tables in JS plugin docs */
        .bs-events-table > thead > tr > th:first-child,
        .bs-events-table > tbody > tr > td:first-child {
            white-space: nowrap;
        }

        .bs-events-table > thead > tr > th:first-child {
            width: 150px;
        }

        .js-options-table > thead > tr > th:nth-child(1),
        .js-options-table > thead > tr > th:nth-child(2) {
            width: 100px;
        }

        .js-options-table > thead > tr > th:nth-child(3) {
            width: 50px;
        }
    </style>
}

@section Scripts {
    @Scripts.Render("~/Scripts/moment.min.js")
    @Scripts.Render("~/Scripts/moment-with-locales.min.js")
    @Scripts.Render("~/Scripts/bootstrap-datetimepicker.js")

    <script>
        $(document).ready(function () {
            $('#CentroDeSaludNombre').select2();
            $('#EspecialidadNombre').select2();


            /////////////DateTimePicker Functions/////////////
            $('#dpFechaDesde').datetimepicker({
                format: "DD/MM/YYYY",
                locale: 'es',
            });

            $('#dpFechaHasta').datetimepicker({
                format: "DD/MM/YYYY",
                locale: 'es',
                useCurrent: false //Important! See issue #1075
            });

            $("#dpFechaDesde").on("dp.change", function (e) {
                $('#dpFechaHasta').data("DateTimePicker").minDate(e.date);
            });

            $("#dpFechaHasta").on("dp.change", function (e) {
                $('#dpFechaDesde').data("DateTimePicker").maxDate(e.date);
            });






            $('#dpHoraDesde').datetimepicker({
                format: "LT",
                locale: 'es',
            });

            $('#dpHoraHasta').datetimepicker({
                format: "LT",
                locale: 'es',
                useCurrent: false //Important! See issue #1075
            });

            //$("#dpHoraDesde").on("dp.change", function (e) {
            //    $('#dpHoraHasta').data("DateTimePicker").minDate(e.date);
            //});

            //$("#dpHoraHasta").on("dp.change", function (e) {
            //    $('#dpHoraDesde').data("DateTimePicker").maxDate(e.date);
            //});
            /////////////End - DateTimePicker Functions/////////////

        })
    </script>
}