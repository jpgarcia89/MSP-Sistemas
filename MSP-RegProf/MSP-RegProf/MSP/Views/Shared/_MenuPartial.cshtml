@{
    List<MSP_RegProf.Models.MenuVM> menus;
    var aux = Session["Menu"] as List<MSP_RegProf.Models.MenuVM>;
    if (Session["Menu"] == null || aux.Count == 0)
    {
        var menuClien = new MSP_RegProf.Controllers.MenuController();
        if (Session["UserName"] != null)
        {
            Session["Menu"] = menuClien.GetMenu(Session["UserName"].ToString());
        }
        else
        {
            Session["Menu"] = menuClien.GetMenu("");
        }
    }

    menus = Session["Menu"] as List<MSP_RegProf.Models.MenuVM>;
}
<ul class="sidebar-menu">
    @MSP_RegProf.Helpers.HtmlHelperExtensions.RenderMenu(menus);
</ul>

